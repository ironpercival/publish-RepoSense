[{"path":".github/workflows/ci.yml","fileType":"yml","lines":[{"lineNumber":1,"author":{"gitId":"Anton Shabinskiy"},"content":"name: CI"},{"lineNumber":2,"author":{"gitId":"Anton Shabinskiy"},"content":""},{"lineNumber":3,"author":{"gitId":"Anton Shabinskiy"},"content":"on:"},{"lineNumber":4,"author":{"gitId":"Anton Shabinskiy"},"content":"  pull_request:"},{"lineNumber":5,"author":{"gitId":"Anton Shabinskiy"},"content":"  push:"},{"lineNumber":6,"author":{"gitId":"Anton Shabinskiy"},"content":"    branches:"},{"lineNumber":7,"author":{"gitId":"Anton Shabinskiy"},"content":"      - master"},{"lineNumber":8,"author":{"gitId":"Anton Shabinskiy"},"content":"  workflow_dispatch:"},{"lineNumber":9,"author":{"gitId":"Anton Shabinskiy"},"content":""},{"lineNumber":10,"author":{"gitId":"Anton Shabinskiy"},"content":"env:"},{"lineNumber":11,"author":{"gitId":"Anton Shabinskiy"},"content":"  PACKAGE_DIRECTORY: \u0027./kmaooad-functions\u0027 # set this to the directory which contains pom.xml file"},{"lineNumber":12,"author":{"gitId":"Anton Shabinskiy"},"content":"  JAVA_VERSION: \u002711\u0027 # set this to the java version to use"},{"lineNumber":13,"author":{"gitId":"Anton Shabinskiy"},"content":""},{"lineNumber":14,"author":{"gitId":"Anton Shabinskiy"},"content":"jobs:"},{"lineNumber":15,"author":{"gitId":"Anton Shabinskiy"},"content":"  build-and-test:"},{"lineNumber":16,"author":{"gitId":"Anton Shabinskiy"},"content":"    runs-on: windows-latest"},{"lineNumber":17,"author":{"gitId":"Anton Shabinskiy"},"content":"    steps:"},{"lineNumber":18,"author":{"gitId":"Anton Shabinskiy"},"content":"      - name: \u0027Checkout GitHub Action\u0027"},{"lineNumber":19,"author":{"gitId":"Anton Shabinskiy"},"content":"        uses: actions/checkout@v2"},{"lineNumber":20,"author":{"gitId":"Anton Shabinskiy"},"content":""},{"lineNumber":21,"author":{"gitId":"Anton Shabinskiy"},"content":"      - name: Setup Java Sdk ${{ env.JAVA_VERSION }}"},{"lineNumber":22,"author":{"gitId":"Anton Shabinskiy"},"content":"        uses: actions/setup-java@v1"},{"lineNumber":23,"author":{"gitId":"Anton Shabinskiy"},"content":"        with:"},{"lineNumber":24,"author":{"gitId":"Anton Shabinskiy"},"content":"          java-version: ${{ env.JAVA_VERSION }}"},{"lineNumber":25,"author":{"gitId":"Anton Shabinskiy"},"content":""},{"lineNumber":26,"author":{"gitId":"Anton Shabinskiy"},"content":"      - name: Install dependencies"},{"lineNumber":27,"author":{"gitId":"Anton Shabinskiy"},"content":"        shell: pwsh"},{"lineNumber":28,"author":{"gitId":"Anton Shabinskiy"},"content":"        run: |"},{"lineNumber":29,"author":{"gitId":"Anton Shabinskiy"},"content":"          pushd \u0027./${{ env.PACKAGE_DIRECTORY }}\u0027"},{"lineNumber":30,"author":{"gitId":"Anton Shabinskiy"},"content":"          mvn install -DskipTests\u003dtrue -B -V"},{"lineNumber":31,"author":{"gitId":"Anton Shabinskiy"},"content":"          popd"},{"lineNumber":32,"author":{"gitId":"Anton Shabinskiy"},"content":""},{"lineNumber":33,"author":{"gitId":"Anton Shabinskiy"},"content":"      - name: Run tests and collect coverage"},{"lineNumber":34,"author":{"gitId":"Anton Shabinskiy"},"content":"        shell: pwsh"},{"lineNumber":35,"author":{"gitId":"Anton Shabinskiy"},"content":"        run: |"},{"lineNumber":36,"author":{"gitId":"Anton Shabinskiy"},"content":"          pushd \u0027./${{ env.PACKAGE_DIRECTORY }}\u0027"},{"lineNumber":37,"author":{"gitId":"Anton Shabinskiy"},"content":"          mvn -B test"},{"lineNumber":38,"author":{"gitId":"Anton Shabinskiy"},"content":"          popd"},{"lineNumber":39,"author":{"gitId":"Anton Shabinskiy"},"content":"      "},{"lineNumber":40,"author":{"gitId":"Anton Shabinskiy"},"content":"      - name: Upload coverage to Codecov"},{"lineNumber":41,"author":{"gitId":"Anton Shabinskiy"},"content":"        uses: codecov/codecov-action@v3"},{"lineNumber":42,"author":{"gitId":"Anton Shabinskiy"},"content":"      "},{"lineNumber":43,"author":{"gitId":"Anton Shabinskiy"},"content":"      "}],"authorContributionMap":{"Anton Shabinskiy":43}},{"path":".github/workflows/deploy.yml","fileType":"yml","lines":[{"lineNumber":1,"author":{"gitId":"Anton Shabinskiy"},"content":"# Docs for the Azure Web Apps Deploy action: https://github.com/azure/functions-action"},{"lineNumber":2,"author":{"gitId":"Anton Shabinskiy"},"content":"# More GitHub Actions for Azure: https://github.com/Azure/actions"},{"lineNumber":3,"author":{"gitId":"Anton Shabinskiy"},"content":""},{"lineNumber":4,"author":{"gitId":"Anton Shabinskiy"},"content":"name: Deploy"},{"lineNumber":5,"author":{"gitId":"Anton Shabinskiy"},"content":""},{"lineNumber":6,"author":{"gitId":"Anton Shabinskiy"},"content":"on:"},{"lineNumber":7,"author":{"gitId":"Anton Shabinskiy"},"content":"  push:"},{"lineNumber":8,"author":{"gitId":"Anton Shabinskiy"},"content":"    branches:"},{"lineNumber":9,"author":{"gitId":"Anton Shabinskiy"},"content":"      - master"},{"lineNumber":10,"author":{"gitId":"Anton Shabinskiy"},"content":"  workflow_dispatch:"},{"lineNumber":11,"author":{"gitId":"Anton Shabinskiy"},"content":""},{"lineNumber":12,"author":{"gitId":"Anton Shabinskiy"},"content":"env:"},{"lineNumber":13,"author":{"gitId":"Anton Shabinskiy"},"content":"  AZURE_FUNCTIONAPP_NAME: kmaooad-manticore # set this to your function app name on Azure"},{"lineNumber":14,"author":{"gitId":"Anton Shabinskiy"},"content":"  PACKAGE_DIRECTORY: \u0027./kmaooad-functions\u0027 # set this to the directory which contains pom.xml file"},{"lineNumber":15,"author":{"gitId":"Anton Shabinskiy"},"content":"  JAVA_VERSION: \u002711\u0027 # set this to the java version to use"},{"lineNumber":16,"author":{"gitId":"Anton Shabinskiy"},"content":""},{"lineNumber":17,"author":{"gitId":"Anton Shabinskiy"},"content":"jobs:"},{"lineNumber":18,"author":{"gitId":"Anton Shabinskiy"},"content":"  build-and-deploy:"},{"lineNumber":19,"author":{"gitId":"Anton Shabinskiy"},"content":"    runs-on: windows-latest"},{"lineNumber":20,"author":{"gitId":"Anton Shabinskiy"},"content":"    steps:"},{"lineNumber":21,"author":{"gitId":"Anton Shabinskiy"},"content":"      - name: \u0027Checkout GitHub Action\u0027"},{"lineNumber":22,"author":{"gitId":"Anton Shabinskiy"},"content":"        uses: actions/checkout@v2"},{"lineNumber":23,"author":{"gitId":"Anton Shabinskiy"},"content":""},{"lineNumber":24,"author":{"gitId":"Anton Shabinskiy"},"content":"      - name: Setup Java Sdk ${{ env.JAVA_VERSION }}"},{"lineNumber":25,"author":{"gitId":"Anton Shabinskiy"},"content":"        uses: actions/setup-java@v1"},{"lineNumber":26,"author":{"gitId":"Anton Shabinskiy"},"content":"        with:"},{"lineNumber":27,"author":{"gitId":"Anton Shabinskiy"},"content":"          java-version: ${{ env.JAVA_VERSION }}"},{"lineNumber":28,"author":{"gitId":"Anton Shabinskiy"},"content":""},{"lineNumber":29,"author":{"gitId":"Anton Shabinskiy"},"content":"      - name: \u0027Restore Project Dependencies Using Mvn\u0027"},{"lineNumber":30,"author":{"gitId":"Anton Shabinskiy"},"content":"        shell: pwsh"},{"lineNumber":31,"author":{"gitId":"Anton Shabinskiy"},"content":"        run: |"},{"lineNumber":32,"author":{"gitId":"Anton Shabinskiy"},"content":"          pushd \u0027./${{ env.PACKAGE_DIRECTORY }}\u0027"},{"lineNumber":33,"author":{"gitId":"Anton Shabinskiy"},"content":"          mvn clean package"},{"lineNumber":34,"author":{"gitId":"Anton Shabinskiy"},"content":"          popd"},{"lineNumber":35,"author":{"gitId":"Anton Shabinskiy"},"content":"      - name: \u0027Run Azure Functions Action\u0027"},{"lineNumber":36,"author":{"gitId":"Anton Shabinskiy"},"content":"        uses: Azure/functions-action@v1"},{"lineNumber":37,"author":{"gitId":"Anton Shabinskiy"},"content":"        id: fa"},{"lineNumber":38,"author":{"gitId":"Anton Shabinskiy"},"content":"        with:"},{"lineNumber":39,"author":{"gitId":"Anton Shabinskiy"},"content":"          app-name: \u0027kmaooad-manticore\u0027"},{"lineNumber":40,"author":{"gitId":"Anton Shabinskiy"},"content":"          slot-name: \u0027Production\u0027"},{"lineNumber":41,"author":{"gitId":"Anton Shabinskiy"},"content":"          publish-profile: ${{ secrets.AZUREAPPSERVICE_PUBLISHPROFILE_73DA3000BA6F4DD9875750B4F533504F }}"},{"lineNumber":42,"author":{"gitId":"Anton Shabinskiy"},"content":"          package: \u0027${{ env.PACKAGE_DIRECTORY }}\u0027"},{"lineNumber":43,"author":{"gitId":"Anton Shabinskiy"},"content":"          respect-pom-xml: true"}],"authorContributionMap":{"Anton Shabinskiy":43}},{"path":"LICENSE","fileType":"LICENSE","lines":[{"lineNumber":1,"author":{"gitId":"github-classroom[bot]"},"content":"MIT License"},{"lineNumber":2,"author":{"gitId":"github-classroom[bot]"},"content":""},{"lineNumber":3,"author":{"gitId":"github-classroom[bot]"},"content":"Copyright (c) 2022 NAUKMA OOAD 2022"},{"lineNumber":4,"author":{"gitId":"github-classroom[bot]"},"content":""},{"lineNumber":5,"author":{"gitId":"github-classroom[bot]"},"content":"Permission is hereby granted, free of charge, to any person obtaining a copy"},{"lineNumber":6,"author":{"gitId":"github-classroom[bot]"},"content":"of this software and associated documentation files (the \"Software\"), to deal"},{"lineNumber":7,"author":{"gitId":"github-classroom[bot]"},"content":"in the Software without restriction, including without limitation the rights"},{"lineNumber":8,"author":{"gitId":"github-classroom[bot]"},"content":"to use, copy, modify, merge, publish, distribute, sublicense, and/or sell"},{"lineNumber":9,"author":{"gitId":"github-classroom[bot]"},"content":"copies of the Software, and to permit persons to whom the Software is"},{"lineNumber":10,"author":{"gitId":"github-classroom[bot]"},"content":"furnished to do so, subject to the following conditions:"},{"lineNumber":11,"author":{"gitId":"github-classroom[bot]"},"content":""},{"lineNumber":12,"author":{"gitId":"github-classroom[bot]"},"content":"The above copyright notice and this permission notice shall be included in all"},{"lineNumber":13,"author":{"gitId":"github-classroom[bot]"},"content":"copies or substantial portions of the Software."},{"lineNumber":14,"author":{"gitId":"github-classroom[bot]"},"content":""},{"lineNumber":15,"author":{"gitId":"github-classroom[bot]"},"content":"THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR"},{"lineNumber":16,"author":{"gitId":"github-classroom[bot]"},"content":"IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,"},{"lineNumber":17,"author":{"gitId":"github-classroom[bot]"},"content":"FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE"},{"lineNumber":18,"author":{"gitId":"github-classroom[bot]"},"content":"AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER"},{"lineNumber":19,"author":{"gitId":"github-classroom[bot]"},"content":"LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,"},{"lineNumber":20,"author":{"gitId":"github-classroom[bot]"},"content":"OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE"},{"lineNumber":21,"author":{"gitId":"github-classroom[bot]"},"content":"SOFTWARE."}],"authorContributionMap":{"github-classroom[bot]":21}},{"path":"README.md","fileType":"md","lines":[{"lineNumber":1,"author":{"gitId":"github-classroom[bot]"},"content":"[![Open in Visual Studio Code](https://classroom.github.com/assets/open-in-vscode-c66648af7eb3fe8bc4f294546bfd86ef473780cde1dea487d3c4ff354943c9ae.svg)](https://classroom.github.com/online_ide?assignment_repo_id\u003d8740234\u0026assignment_repo_type\u003dAssignmentRepo)"}],"authorContributionMap":{"github-classroom[bot]":1}},{"path":"kmaooad-functions/.gitignore","fileType":"gitignore","lines":[{"lineNumber":1,"author":{"gitId":"github-classroom[bot]"},"content":"# Build output"},{"lineNumber":2,"author":{"gitId":"github-classroom[bot]"},"content":"target/"},{"lineNumber":3,"author":{"gitId":"github-classroom[bot]"},"content":"*.class"},{"lineNumber":4,"author":{"gitId":"github-classroom[bot]"},"content":""},{"lineNumber":5,"author":{"gitId":"github-classroom[bot]"},"content":"# Log file"},{"lineNumber":6,"author":{"gitId":"github-classroom[bot]"},"content":"*.log"},{"lineNumber":7,"author":{"gitId":"github-classroom[bot]"},"content":""},{"lineNumber":8,"author":{"gitId":"github-classroom[bot]"},"content":"# BlueJ files"},{"lineNumber":9,"author":{"gitId":"github-classroom[bot]"},"content":"*.ctxt"},{"lineNumber":10,"author":{"gitId":"github-classroom[bot]"},"content":""},{"lineNumber":11,"author":{"gitId":"github-classroom[bot]"},"content":"# Mobile Tools for Java (J2ME)"},{"lineNumber":12,"author":{"gitId":"github-classroom[bot]"},"content":".mtj.tmp/"},{"lineNumber":13,"author":{"gitId":"github-classroom[bot]"},"content":""},{"lineNumber":14,"author":{"gitId":"github-classroom[bot]"},"content":"# Package Files #"},{"lineNumber":15,"author":{"gitId":"github-classroom[bot]"},"content":"*.jar"},{"lineNumber":16,"author":{"gitId":"github-classroom[bot]"},"content":"*.war"},{"lineNumber":17,"author":{"gitId":"github-classroom[bot]"},"content":"*.ear"},{"lineNumber":18,"author":{"gitId":"github-classroom[bot]"},"content":"*.zip"},{"lineNumber":19,"author":{"gitId":"github-classroom[bot]"},"content":"*.tar.gz"},{"lineNumber":20,"author":{"gitId":"github-classroom[bot]"},"content":"*.rar"},{"lineNumber":21,"author":{"gitId":"github-classroom[bot]"},"content":""},{"lineNumber":22,"author":{"gitId":"github-classroom[bot]"},"content":"# virtual machine crash logs, see http://www.java.com/en/download/help/error_hotspot.xml"},{"lineNumber":23,"author":{"gitId":"github-classroom[bot]"},"content":"hs_err_pid*"},{"lineNumber":24,"author":{"gitId":"github-classroom[bot]"},"content":""},{"lineNumber":25,"author":{"gitId":"github-classroom[bot]"},"content":"# IDE"},{"lineNumber":26,"author":{"gitId":"github-classroom[bot]"},"content":".idea/"},{"lineNumber":27,"author":{"gitId":"github-classroom[bot]"},"content":"*.iml"},{"lineNumber":28,"author":{"gitId":"github-classroom[bot]"},"content":".settings/"},{"lineNumber":29,"author":{"gitId":"github-classroom[bot]"},"content":".project"},{"lineNumber":30,"author":{"gitId":"github-classroom[bot]"},"content":".classpath"},{"lineNumber":31,"author":{"gitId":"github-classroom[bot]"},"content":".vscode/"},{"lineNumber":32,"author":{"gitId":"github-classroom[bot]"},"content":""},{"lineNumber":33,"author":{"gitId":"github-classroom[bot]"},"content":"# macOS"},{"lineNumber":34,"author":{"gitId":"github-classroom[bot]"},"content":".DS_Store"},{"lineNumber":35,"author":{"gitId":"github-classroom[bot]"},"content":""},{"lineNumber":36,"author":{"gitId":"github-classroom[bot]"},"content":"# Azure Functions"},{"lineNumber":37,"author":{"gitId":"github-classroom[bot]"},"content":"local.settings.json"},{"lineNumber":38,"author":{"gitId":"github-classroom[bot]"},"content":"bin/"},{"lineNumber":39,"author":{"gitId":"github-classroom[bot]"},"content":"obj/"}],"authorContributionMap":{"github-classroom[bot]":39}},{"path":"kmaooad-functions/host.json","fileType":"json","lines":[{"lineNumber":1,"author":{"gitId":"github-classroom[bot]"},"content":"{"},{"lineNumber":2,"author":{"gitId":"github-classroom[bot]"},"content":"  \"version\": \"2.0\","},{"lineNumber":3,"author":{"gitId":"github-classroom[bot]"},"content":"  \"extensionBundle\": {"},{"lineNumber":4,"author":{"gitId":"github-classroom[bot]"},"content":"    \"id\": \"Microsoft.Azure.Functions.ExtensionBundle\","},{"lineNumber":5,"author":{"gitId":"github-classroom[bot]"},"content":"    \"version\": \"[3.*, 4.0.0)\""},{"lineNumber":6,"author":{"gitId":"github-classroom[bot]"},"content":"  } "},{"lineNumber":7,"author":{"gitId":"github-classroom[bot]"},"content":"}"}],"authorContributionMap":{"github-classroom[bot]":7}},{"path":"kmaooad-functions/pom.xml","fileType":"xml","lines":[{"lineNumber":1,"author":{"gitId":"github-classroom[bot]"},"content":"\u003c?xml version\u003d\"1.0\" encoding\u003d\"UTF-8\" ?\u003e"},{"lineNumber":2,"author":{"gitId":"ihor.ye"},"content":"\u003cproject"},{"lineNumber":3,"author":{"gitId":"ihor.ye"},"content":"  xmlns\u003d\"http://maven.apache.org/POM/4.0.0\""},{"lineNumber":4,"author":{"gitId":"ihor.ye"},"content":"  xmlns:xsi\u003d\"http://www.w3.org/2001/XMLSchema-instance\""},{"lineNumber":5,"author":{"gitId":"ihor.ye"},"content":"  xsi:schemaLocation\u003d\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\""},{"lineNumber":6,"author":{"gitId":"ihor.ye"},"content":"\u003e"},{"lineNumber":7,"author":{"gitId":"github-classroom[bot]"},"content":"    \u003cmodelVersion\u003e4.0.0\u003c/modelVersion\u003e"},{"lineNumber":8,"author":{"gitId":"github-classroom[bot]"},"content":""},{"lineNumber":9,"author":{"gitId":"github-classroom[bot]"},"content":"    \u003cgroupId\u003eedu.kmaooad\u003c/groupId\u003e"},{"lineNumber":10,"author":{"gitId":"github-classroom[bot]"},"content":"    \u003cartifactId\u003ekmaooad-functions\u003c/artifactId\u003e"},{"lineNumber":11,"author":{"gitId":"github-classroom[bot]"},"content":"    \u003cversion\u003e1.0-SNAPSHOT\u003c/version\u003e"},{"lineNumber":12,"author":{"gitId":"github-classroom[bot]"},"content":"    \u003cpackaging\u003ejar\u003c/packaging\u003e"},{"lineNumber":13,"author":{"gitId":"github-classroom[bot]"},"content":""},{"lineNumber":14,"author":{"gitId":"github-classroom[bot]"},"content":"    \u003cname\u003eAzure Java Functions\u003c/name\u003e"},{"lineNumber":15,"author":{"gitId":"github-classroom[bot]"},"content":""},{"lineNumber":16,"author":{"gitId":"github-classroom[bot]"},"content":"    \u003cproperties\u003e"},{"lineNumber":17,"author":{"gitId":"github-classroom[bot]"},"content":"        \u003cproject.build.sourceEncoding\u003eUTF-8\u003c/project.build.sourceEncoding\u003e"},{"lineNumber":18,"author":{"gitId":"github-classroom[bot]"},"content":"        \u003cjava.version\u003e11\u003c/java.version\u003e"},{"lineNumber":19,"author":{"gitId":"ihor.ye"},"content":"        \u003cazure.functions.maven.plugin.version"},{"lineNumber":20,"author":{"gitId":"ihor.ye"},"content":"    \u003e1.20.0\u003c/azure.functions.maven.plugin.version\u003e"},{"lineNumber":21,"author":{"gitId":"ihor.ye"},"content":"        \u003cazure.functions.java.library.version"},{"lineNumber":22,"author":{"gitId":"ihor.ye"},"content":"    \u003e2.0.1\u003c/azure.functions.java.library.version\u003e"},{"lineNumber":23,"author":{"gitId":"github-classroom[bot]"},"content":"        \u003cfunctionAppName\u003ekmaooad-functions-20220927162321908\u003c/functionAppName\u003e"},{"lineNumber":24,"author":{"gitId":"github-classroom[bot]"},"content":"    \u003c/properties\u003e"},{"lineNumber":25,"author":{"gitId":"github-classroom[bot]"},"content":""},{"lineNumber":26,"author":{"gitId":"github-classroom[bot]"},"content":"    \u003cdependencies\u003e"},{"lineNumber":27,"author":{"gitId":"github-classroom[bot]"},"content":"        \u003cdependency\u003e"},{"lineNumber":28,"author":{"gitId":"github-classroom[bot]"},"content":"            \u003cgroupId\u003ecom.microsoft.azure.functions\u003c/groupId\u003e"},{"lineNumber":29,"author":{"gitId":"github-classroom[bot]"},"content":"            \u003cartifactId\u003eazure-functions-java-library\u003c/artifactId\u003e"},{"lineNumber":30,"author":{"gitId":"github-classroom[bot]"},"content":"            \u003cversion\u003e${azure.functions.java.library.version}\u003c/version\u003e"},{"lineNumber":31,"author":{"gitId":"github-classroom[bot]"},"content":"        \u003c/dependency\u003e"},{"lineNumber":32,"author":{"gitId":"Max"},"content":"        \u003cdependency\u003e"},{"lineNumber":33,"author":{"gitId":"Max"},"content":"            \u003cgroupId\u003eorg.json\u003c/groupId\u003e"},{"lineNumber":34,"author":{"gitId":"Max"},"content":"            \u003cartifactId\u003ejson\u003c/artifactId\u003e"},{"lineNumber":35,"author":{"gitId":"Max"},"content":"            \u003cversion\u003e20180130\u003c/version\u003e"},{"lineNumber":36,"author":{"gitId":"Max"},"content":"        \u003c/dependency\u003e"},{"lineNumber":37,"author":{"gitId":"ihor.ye"},"content":"        \u003cdependency\u003e"},{"lineNumber":38,"author":{"gitId":"ihor.ye"},"content":"            \u003cgroupId\u003eorg.mongodb\u003c/groupId\u003e"},{"lineNumber":39,"author":{"gitId":"ihor.ye"},"content":"            \u003cartifactId\u003emongodb-driver-sync\u003c/artifactId\u003e"},{"lineNumber":40,"author":{"gitId":"ihor.ye"},"content":"            \u003cversion\u003e4.3.4\u003c/version\u003e"},{"lineNumber":41,"author":{"gitId":"ihor.ye"},"content":"        \u003c/dependency\u003e"},{"lineNumber":42,"author":{"gitId":"ihor.ye"},"content":"        \u003cdependency\u003e"},{"lineNumber":43,"author":{"gitId":"ihor.ye"},"content":"            \u003cgroupId\u003eorg.mockito\u003c/groupId\u003e"},{"lineNumber":44,"author":{"gitId":"ihor.ye"},"content":"            \u003cartifactId\u003emockito-core\u003c/artifactId\u003e"},{"lineNumber":45,"author":{"gitId":"ihor.ye"},"content":"            \u003cversion\u003e2.23.4\u003c/version\u003e"},{"lineNumber":46,"author":{"gitId":"ihor.ye"},"content":"            \u003cscope\u003etest\u003c/scope\u003e"},{"lineNumber":47,"author":{"gitId":"ihor.ye"},"content":"        \u003c/dependency\u003e"},{"lineNumber":48,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":49,"author":{"gitId":"github-classroom[bot]"},"content":""},{"lineNumber":50,"author":{"gitId":"github-classroom[bot]"},"content":"        \u003c!-- Test --\u003e"},{"lineNumber":51,"author":{"gitId":"github-classroom[bot]"},"content":"        \u003cdependency\u003e"},{"lineNumber":52,"author":{"gitId":"github-classroom[bot]"},"content":"            \u003cgroupId\u003eorg.junit.jupiter\u003c/groupId\u003e"},{"lineNumber":53,"author":{"gitId":"github-classroom[bot]"},"content":"            \u003cartifactId\u003ejunit-jupiter\u003c/artifactId\u003e"},{"lineNumber":54,"author":{"gitId":"github-classroom[bot]"},"content":"            \u003cversion\u003e5.4.2\u003c/version\u003e"},{"lineNumber":55,"author":{"gitId":"github-classroom[bot]"},"content":"            \u003cscope\u003etest\u003c/scope\u003e"},{"lineNumber":56,"author":{"gitId":"github-classroom[bot]"},"content":"        \u003c/dependency\u003e"},{"lineNumber":57,"author":{"gitId":"github-classroom[bot]"},"content":""},{"lineNumber":58,"author":{"gitId":"github-classroom[bot]"},"content":"        \u003cdependency\u003e"},{"lineNumber":59,"author":{"gitId":"github-classroom[bot]"},"content":"            \u003cgroupId\u003eorg.mockito\u003c/groupId\u003e"},{"lineNumber":60,"author":{"gitId":"github-classroom[bot]"},"content":"            \u003cartifactId\u003emockito-core\u003c/artifactId\u003e"},{"lineNumber":61,"author":{"gitId":"github-classroom[bot]"},"content":"            \u003cversion\u003e2.23.4\u003c/version\u003e"},{"lineNumber":62,"author":{"gitId":"github-classroom[bot]"},"content":"            \u003cscope\u003etest\u003c/scope\u003e"},{"lineNumber":63,"author":{"gitId":"github-classroom[bot]"},"content":"        \u003c/dependency\u003e"},{"lineNumber":64,"author":{"gitId":"github-classroom[bot]"},"content":"    \u003c/dependencies\u003e"},{"lineNumber":65,"author":{"gitId":"github-classroom[bot]"},"content":""},{"lineNumber":66,"author":{"gitId":"github-classroom[bot]"},"content":"    \u003cbuild\u003e"},{"lineNumber":67,"author":{"gitId":"github-classroom[bot]"},"content":"        \u003cplugins\u003e"},{"lineNumber":68,"author":{"gitId":"github-classroom[bot]"},"content":"            \u003cplugin\u003e"},{"lineNumber":69,"author":{"gitId":"github-classroom[bot]"},"content":"                \u003cgroupId\u003eorg.apache.maven.plugins\u003c/groupId\u003e"},{"lineNumber":70,"author":{"gitId":"github-classroom[bot]"},"content":"                \u003cartifactId\u003emaven-compiler-plugin\u003c/artifactId\u003e"},{"lineNumber":71,"author":{"gitId":"github-classroom[bot]"},"content":"                \u003cversion\u003e3.8.1\u003c/version\u003e"},{"lineNumber":72,"author":{"gitId":"github-classroom[bot]"},"content":"                \u003cconfiguration\u003e"},{"lineNumber":73,"author":{"gitId":"github-classroom[bot]"},"content":"                    \u003csource\u003e${java.version}\u003c/source\u003e"},{"lineNumber":74,"author":{"gitId":"github-classroom[bot]"},"content":"                    \u003ctarget\u003e${java.version}\u003c/target\u003e"},{"lineNumber":75,"author":{"gitId":"github-classroom[bot]"},"content":"                    \u003cencoding\u003e${project.build.sourceEncoding}\u003c/encoding\u003e"},{"lineNumber":76,"author":{"gitId":"github-classroom[bot]"},"content":"                \u003c/configuration\u003e"},{"lineNumber":77,"author":{"gitId":"github-classroom[bot]"},"content":"            \u003c/plugin\u003e"},{"lineNumber":78,"author":{"gitId":"ihor.ye"},"content":"            \u003cplugin\u003e"},{"lineNumber":79,"author":{"gitId":"ihor.ye"},"content":"                \u003cgroupId\u003eorg.apache.maven.plugins\u003c/groupId\u003e"},{"lineNumber":80,"author":{"gitId":"ihor.ye"},"content":"                \u003cartifactId\u003emaven-surefire-plugin\u003c/artifactId\u003e"},{"lineNumber":81,"author":{"gitId":"ihor.ye"},"content":"                \u003cversion\u003e3.0.0-M7\u003c/version\u003e"},{"lineNumber":82,"author":{"gitId":"ihor.ye"},"content":"                \u003cconfiguration\u003e"},{"lineNumber":83,"author":{"gitId":"ihor.ye"},"content":"                    \u003cfailIfNoTests\u003etrue\u003c/failIfNoTests\u003e"},{"lineNumber":84,"author":{"gitId":"ihor.ye"},"content":"                \u003c/configuration\u003e"},{"lineNumber":85,"author":{"gitId":"ihor.ye"},"content":"            \u003c/plugin\u003e"},{"lineNumber":86,"author":{"gitId":"github-classroom[bot]"},"content":"            \u003cplugin\u003e"},{"lineNumber":87,"author":{"gitId":"github-classroom[bot]"},"content":"                \u003cgroupId\u003ecom.microsoft.azure\u003c/groupId\u003e"},{"lineNumber":88,"author":{"gitId":"github-classroom[bot]"},"content":"                \u003cartifactId\u003eazure-functions-maven-plugin\u003c/artifactId\u003e"},{"lineNumber":89,"author":{"gitId":"github-classroom[bot]"},"content":"                \u003cversion\u003e${azure.functions.maven.plugin.version}\u003c/version\u003e"},{"lineNumber":90,"author":{"gitId":"github-classroom[bot]"},"content":"                \u003cconfiguration\u003e"},{"lineNumber":91,"author":{"gitId":"github-classroom[bot]"},"content":"                    \u003c!-- function app name --\u003e"},{"lineNumber":92,"author":{"gitId":"github-classroom[bot]"},"content":"                    \u003cappName\u003e${functionAppName}\u003c/appName\u003e"},{"lineNumber":93,"author":{"gitId":"github-classroom[bot]"},"content":"                    \u003c!-- function app resource group --\u003e"},{"lineNumber":94,"author":{"gitId":"github-classroom[bot]"},"content":"                    \u003cresourceGroup\u003ejava-functions-group\u003c/resourceGroup\u003e"},{"lineNumber":95,"author":{"gitId":"github-classroom[bot]"},"content":"                    \u003c!-- function app service plan name --\u003e"},{"lineNumber":96,"author":{"gitId":"ihor.ye"},"content":"                    \u003cappServicePlanName"},{"lineNumber":97,"author":{"gitId":"ihor.ye"},"content":"          \u003ejava-functions-app-service-plan\u003c/appServicePlanName\u003e"},{"lineNumber":98,"author":{"gitId":"github-classroom[bot]"},"content":"                    \u003c!-- function app region--\u003e"},{"lineNumber":99,"author":{"gitId":"github-classroom[bot]"},"content":"                    \u003c!-- refers https://github.com/microsoft/azure-maven-plugins/wiki/Azure-Functions:-Configuration-Details#supported-regions for all valid values --\u003e"},{"lineNumber":100,"author":{"gitId":"github-classroom[bot]"},"content":"                    \u003cregion\u003ewestus\u003c/region\u003e"},{"lineNumber":101,"author":{"gitId":"github-classroom[bot]"},"content":"                    \u003c!-- function pricingTier, default to be consumption if not specified --\u003e"},{"lineNumber":102,"author":{"gitId":"github-classroom[bot]"},"content":"                    \u003c!-- refers https://github.com/microsoft/azure-maven-plugins/wiki/Azure-Functions:-Configuration-Details#supported-pricing-tiers for all valid values --\u003e"},{"lineNumber":103,"author":{"gitId":"github-classroom[bot]"},"content":"                    \u003c!-- \u003cpricingTier\u003e\u003c/pricingTier\u003e --\u003e"},{"lineNumber":104,"author":{"gitId":"github-classroom[bot]"},"content":"                    \u003c!-- Whether to disable application insights, default is false --\u003e"},{"lineNumber":105,"author":{"gitId":"github-classroom[bot]"},"content":"                    \u003c!-- refers https://github.com/microsoft/azure-maven-plugins/wiki/Azure-Functions:-Configuration-Details for all valid configurations for application insights--\u003e"},{"lineNumber":106,"author":{"gitId":"github-classroom[bot]"},"content":"                    \u003c!-- \u003cdisableAppInsights\u003e\u003c/disableAppInsights\u003e --\u003e"},{"lineNumber":107,"author":{"gitId":"github-classroom[bot]"},"content":"                    \u003cruntime\u003e"},{"lineNumber":108,"author":{"gitId":"github-classroom[bot]"},"content":"                        \u003c!-- runtime os, could be windows, linux or docker--\u003e"},{"lineNumber":109,"author":{"gitId":"github-classroom[bot]"},"content":"                        \u003cos\u003ewindows\u003c/os\u003e"},{"lineNumber":110,"author":{"gitId":"github-classroom[bot]"},"content":"                        \u003cjavaVersion\u003e11\u003c/javaVersion\u003e"},{"lineNumber":111,"author":{"gitId":"github-classroom[bot]"},"content":"                    \u003c/runtime\u003e"},{"lineNumber":112,"author":{"gitId":"github-classroom[bot]"},"content":"                    \u003cappSettings\u003e"},{"lineNumber":113,"author":{"gitId":"github-classroom[bot]"},"content":"                        \u003cproperty\u003e"},{"lineNumber":114,"author":{"gitId":"github-classroom[bot]"},"content":"                            \u003cname\u003eFUNCTIONS_EXTENSION_VERSION\u003c/name\u003e"},{"lineNumber":115,"author":{"gitId":"github-classroom[bot]"},"content":"                            \u003cvalue\u003e~4\u003c/value\u003e"},{"lineNumber":116,"author":{"gitId":"github-classroom[bot]"},"content":"                        \u003c/property\u003e"},{"lineNumber":117,"author":{"gitId":"github-classroom[bot]"},"content":"                    \u003c/appSettings\u003e"},{"lineNumber":118,"author":{"gitId":"github-classroom[bot]"},"content":"                \u003c/configuration\u003e"},{"lineNumber":119,"author":{"gitId":"github-classroom[bot]"},"content":"                \u003cexecutions\u003e"},{"lineNumber":120,"author":{"gitId":"github-classroom[bot]"},"content":"                    \u003cexecution\u003e"},{"lineNumber":121,"author":{"gitId":"github-classroom[bot]"},"content":"                        \u003cid\u003epackage-functions\u003c/id\u003e"},{"lineNumber":122,"author":{"gitId":"github-classroom[bot]"},"content":"                        \u003cgoals\u003e"},{"lineNumber":123,"author":{"gitId":"github-classroom[bot]"},"content":"                            \u003cgoal\u003epackage\u003c/goal\u003e"},{"lineNumber":124,"author":{"gitId":"github-classroom[bot]"},"content":"                        \u003c/goals\u003e"},{"lineNumber":125,"author":{"gitId":"github-classroom[bot]"},"content":"                    \u003c/execution\u003e"},{"lineNumber":126,"author":{"gitId":"github-classroom[bot]"},"content":"                \u003c/executions\u003e"},{"lineNumber":127,"author":{"gitId":"github-classroom[bot]"},"content":"            \u003c/plugin\u003e"},{"lineNumber":128,"author":{"gitId":"ihor.ye"},"content":"            \u003cplugin\u003e"},{"lineNumber":129,"author":{"gitId":"ihor.ye"},"content":"\t\t\t\t\u003cgroupId\u003eorg.jacoco\u003c/groupId\u003e"},{"lineNumber":130,"author":{"gitId":"ihor.ye"},"content":"\t\t\t\t\u003cartifactId\u003ejacoco-maven-plugin\u003c/artifactId\u003e"},{"lineNumber":131,"author":{"gitId":"ihor.ye"},"content":"\t\t\t\t\u003cversion\u003e0.8.8\u003c/version\u003e"},{"lineNumber":132,"author":{"gitId":"ihor.ye"},"content":"\t\t\t\t\u003cexecutions\u003e"},{"lineNumber":133,"author":{"gitId":"ihor.ye"},"content":"\t\t\t\t\t\u003cexecution\u003e"},{"lineNumber":134,"author":{"gitId":"ihor.ye"},"content":"\t\t\t\t\t\t\u003cid\u003eprepare-agent\u003c/id\u003e"},{"lineNumber":135,"author":{"gitId":"ihor.ye"},"content":"\t\t\t\t\t\t\u003cgoals\u003e"},{"lineNumber":136,"author":{"gitId":"ihor.ye"},"content":"\t\t\t\t\t\t\t\u003cgoal\u003eprepare-agent\u003c/goal\u003e"},{"lineNumber":137,"author":{"gitId":"ihor.ye"},"content":"\t\t\t\t\t\t\u003c/goals\u003e"},{"lineNumber":138,"author":{"gitId":"ihor.ye"},"content":"\t\t\t\t\t\u003c/execution\u003e"},{"lineNumber":139,"author":{"gitId":"ihor.ye"},"content":"\t\t\t\t\t\u003cexecution\u003e"},{"lineNumber":140,"author":{"gitId":"ihor.ye"},"content":"\t\t\t\t\t\t\u003cid\u003ereport\u003c/id\u003e"},{"lineNumber":141,"author":{"gitId":"ihor.ye"},"content":"\t\t\t\t\t\t\u003cphase\u003etest\u003c/phase\u003e"},{"lineNumber":142,"author":{"gitId":"ihor.ye"},"content":"\t\t\t\t\t\t\u003cgoals\u003e"},{"lineNumber":143,"author":{"gitId":"ihor.ye"},"content":"\t\t\t\t\t\t\t\u003cgoal\u003ereport\u003c/goal\u003e"},{"lineNumber":144,"author":{"gitId":"ihor.ye"},"content":"\t\t\t\t\t\t\u003c/goals\u003e"},{"lineNumber":145,"author":{"gitId":"ihor.ye"},"content":"\t\t\t\t\t\u003c/execution\u003e"},{"lineNumber":146,"author":{"gitId":"ihor.ye"},"content":"\t\t\t\t\u003c/executions\u003e"},{"lineNumber":147,"author":{"gitId":"ihor.ye"},"content":"\t\t\t\u003c/plugin\u003e"},{"lineNumber":148,"author":{"gitId":"github-classroom[bot]"},"content":"            \u003c!--Remove obj folder generated by .NET SDK in maven clean--\u003e"},{"lineNumber":149,"author":{"gitId":"github-classroom[bot]"},"content":"            \u003cplugin\u003e"},{"lineNumber":150,"author":{"gitId":"github-classroom[bot]"},"content":"                \u003cartifactId\u003emaven-clean-plugin\u003c/artifactId\u003e"},{"lineNumber":151,"author":{"gitId":"github-classroom[bot]"},"content":"                \u003cversion\u003e3.1.0\u003c/version\u003e"},{"lineNumber":152,"author":{"gitId":"github-classroom[bot]"},"content":"                \u003cconfiguration\u003e"},{"lineNumber":153,"author":{"gitId":"github-classroom[bot]"},"content":"                    \u003cfilesets\u003e"},{"lineNumber":154,"author":{"gitId":"github-classroom[bot]"},"content":"                        \u003cfileset\u003e"},{"lineNumber":155,"author":{"gitId":"github-classroom[bot]"},"content":"                            \u003cdirectory\u003eobj\u003c/directory\u003e"},{"lineNumber":156,"author":{"gitId":"github-classroom[bot]"},"content":"                        \u003c/fileset\u003e"},{"lineNumber":157,"author":{"gitId":"github-classroom[bot]"},"content":"                    \u003c/filesets\u003e"},{"lineNumber":158,"author":{"gitId":"github-classroom[bot]"},"content":"                \u003c/configuration\u003e"},{"lineNumber":159,"author":{"gitId":"github-classroom[bot]"},"content":"            \u003c/plugin\u003e"},{"lineNumber":160,"author":{"gitId":"github-classroom[bot]"},"content":"        \u003c/plugins\u003e"},{"lineNumber":161,"author":{"gitId":"github-classroom[bot]"},"content":"    \u003c/build\u003e"},{"lineNumber":162,"author":{"gitId":"github-classroom[bot]"},"content":"\u003c/project\u003e"}],"authorContributionMap":{"Max":5,"github-classroom[bot]":106,"ihor.ye":51}},{"path":"kmaooad-functions/src/main/java/edu/kmaooad/EmptyRequestBodyException.java","fileType":"java","lines":[{"lineNumber":1,"author":{"gitId":"ihor.ye"},"content":"package edu.kmaooad;"},{"lineNumber":2,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":3,"author":{"gitId":"ihor.ye"},"content":"public class EmptyRequestBodyException extends Exception {"},{"lineNumber":4,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":5,"author":{"gitId":"ihor.ye"},"content":"    public EmptyRequestBodyException() {"},{"lineNumber":6,"author":{"gitId":"ihor.ye"},"content":"        super(\"Request body must not be empty\");"},{"lineNumber":7,"author":{"gitId":"ihor.ye"},"content":"    }"},{"lineNumber":8,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":9,"author":{"gitId":"ihor.ye"},"content":"}"}],"authorContributionMap":{"ihor.ye":9}},{"path":"kmaooad-functions/src/main/java/edu/kmaooad/Function.java","fileType":"java","lines":[{"lineNumber":1,"author":{"gitId":"github-classroom[bot]"},"content":"package edu.kmaooad;"},{"lineNumber":2,"author":{"gitId":"github-classroom[bot]"},"content":""},{"lineNumber":3,"author":{"gitId":"github-classroom[bot]"},"content":"import com.microsoft.azure.functions.ExecutionContext;"},{"lineNumber":4,"author":{"gitId":"github-classroom[bot]"},"content":"import com.microsoft.azure.functions.HttpMethod;"},{"lineNumber":5,"author":{"gitId":"github-classroom[bot]"},"content":"import com.microsoft.azure.functions.HttpRequestMessage;"},{"lineNumber":6,"author":{"gitId":"github-classroom[bot]"},"content":"import com.microsoft.azure.functions.HttpResponseMessage;"},{"lineNumber":7,"author":{"gitId":"github-classroom[bot]"},"content":"import com.microsoft.azure.functions.HttpStatus;"},{"lineNumber":8,"author":{"gitId":"github-classroom[bot]"},"content":"import com.microsoft.azure.functions.annotation.AuthorizationLevel;"},{"lineNumber":9,"author":{"gitId":"github-classroom[bot]"},"content":"import com.microsoft.azure.functions.annotation.FunctionName;"},{"lineNumber":10,"author":{"gitId":"github-classroom[bot]"},"content":"import com.microsoft.azure.functions.annotation.HttpTrigger;"},{"lineNumber":11,"author":{"gitId":"ihor.ye"},"content":"import com.mongodb.ConnectionString;"},{"lineNumber":12,"author":{"gitId":"ihor.ye"},"content":"import com.mongodb.MongoClientSettings;"},{"lineNumber":13,"author":{"gitId":"ihor.ye"},"content":"import com.mongodb.client.MongoClient;"},{"lineNumber":14,"author":{"gitId":"ihor.ye"},"content":"import com.mongodb.client.MongoClients;"},{"lineNumber":15,"author":{"gitId":"ihor.ye"},"content":"import com.mongodb.client.MongoCollection;"},{"lineNumber":16,"author":{"gitId":"ihor.ye"},"content":"import com.mongodb.client.MongoDatabase;"},{"lineNumber":17,"author":{"gitId":"github-classroom[bot]"},"content":""},{"lineNumber":18,"author":{"gitId":"github-classroom[bot]"},"content":"import java.util.Optional;"},{"lineNumber":19,"author":{"gitId":"github-classroom[bot]"},"content":""},{"lineNumber":20,"author":{"gitId":"ihor.ye"},"content":"import org.bson.Document;"},{"lineNumber":21,"author":{"gitId":"ihor.ye"},"content":"import org.bson.json.JsonParseException;"},{"lineNumber":22,"author":{"gitId":"IhorYehorov"},"content":""},{"lineNumber":23,"author":{"gitId":"github-classroom[bot]"},"content":"/**"},{"lineNumber":24,"author":{"gitId":"github-classroom[bot]"},"content":" * Azure Functions with HTTP Trigger."},{"lineNumber":25,"author":{"gitId":"github-classroom[bot]"},"content":" */"},{"lineNumber":26,"author":{"gitId":"github-classroom[bot]"},"content":"public class Function {"},{"lineNumber":27,"author":{"gitId":"github-classroom[bot]"},"content":"    /**"},{"lineNumber":28,"author":{"gitId":"github-classroom[bot]"},"content":"     * This function listens at endpoint \"/api/TelegramWebhook\". To invoke it using \"curl\" command in bash:"},{"lineNumber":29,"author":{"gitId":"github-classroom[bot]"},"content":"     * curl -d \"HTTP Body\" {your host}/api/TelegramWebhook"},{"lineNumber":30,"author":{"gitId":"github-classroom[bot]"},"content":"     */"},{"lineNumber":31,"author":{"gitId":"github-classroom[bot]"},"content":"    @FunctionName(\"TelegramWebhook\")"},{"lineNumber":32,"author":{"gitId":"github-classroom[bot]"},"content":"    public HttpResponseMessage run("},{"lineNumber":33,"author":{"gitId":"github-classroom[bot]"},"content":"            @HttpTrigger("},{"lineNumber":34,"author":{"gitId":"github-classroom[bot]"},"content":"                name \u003d \"req\","},{"lineNumber":35,"author":{"gitId":"github-classroom[bot]"},"content":"                methods \u003d {HttpMethod.POST},"},{"lineNumber":36,"author":{"gitId":"github-classroom[bot]"},"content":"                authLevel \u003d AuthorizationLevel.FUNCTION)"},{"lineNumber":37,"author":{"gitId":"github-classroom[bot]"},"content":"                HttpRequestMessage\u003cOptional\u003cString\u003e\u003e request,"},{"lineNumber":38,"author":{"gitId":"github-classroom[bot]"},"content":"            final ExecutionContext context) {"},{"lineNumber":39,"author":{"gitId":"github-classroom[bot]"},"content":"        context.getLogger().info(\"Java HTTP trigger processed a request.\");"},{"lineNumber":40,"author":{"gitId":"github-classroom[bot]"},"content":""},{"lineNumber":41,"author":{"gitId":"ihor.ye"},"content":"        try {"},{"lineNumber":42,"author":{"gitId":"ihor.ye"},"content":"            final String requestBodyString \u003d request.getBody().orElseThrow(EmptyRequestBodyException::new);"},{"lineNumber":43,"author":{"gitId":"Max"},"content":"            "},{"lineNumber":44,"author":{"gitId":"ihor.ye"},"content":"            ConnectionString connectionString \u003d new ConnectionString(\"mongodb://manticore:SaYvqqSw7MYjW1v5@ac-duwhlzm-shard-00-00.9wxedmu.mongodb.net:27017,ac-duwhlzm-shard-00-01.9wxedmu.mongodb.net:27017,ac-duwhlzm-shard-00-02.9wxedmu.mongodb.net:27017/?ssl\u003dtrue\u0026replicaSet\u003datlas-tnukuv-shard-0\u0026authSource\u003dadmin\u0026retryWrites\u003dtrue\u0026w\u003dmajority\");"},{"lineNumber":45,"author":{"gitId":"ihor.ye"},"content":"            MongoClientSettings settings \u003d MongoClientSettings.builder()"},{"lineNumber":46,"author":{"gitId":"ihor.ye"},"content":"                    .applyConnectionString(connectionString)"},{"lineNumber":47,"author":{"gitId":"ihor.ye"},"content":"                    .build();"},{"lineNumber":48,"author":{"gitId":"ihor.ye"},"content":"            try (MongoClient mongoClient \u003d MongoClients.create(settings)) {"},{"lineNumber":49,"author":{"gitId":"ihor.ye"},"content":"                MongoDatabase database \u003d mongoClient.getDatabase(\"manticore-db\");"},{"lineNumber":50,"author":{"gitId":"ihor.ye"},"content":"                MongoCollection\u003cDocument\u003e collection \u003d database.getCollection(\"updates\");"},{"lineNumber":51,"author":{"gitId":"ihor.ye"},"content":"                Document doc \u003d Document.parse(requestBodyString);"},{"lineNumber":52,"author":{"gitId":"ihor.ye"},"content":"                collection.insertOne(doc).toString();"},{"lineNumber":53,"author":{"gitId":"ihor.ye"},"content":"                return request.createResponseBuilder(HttpStatus.OK).body(\"Successfully inserted\").build();"},{"lineNumber":54,"author":{"gitId":"ihor.ye"},"content":"            } catch (JsonParseException e) {"},{"lineNumber":55,"author":{"gitId":"ihor.ye"},"content":"                return request.createResponseBuilder(HttpStatus.BAD_REQUEST).body(\"Request body must contains an update json\").build();"},{"lineNumber":56,"author":{"gitId":"Max"},"content":"            }"},{"lineNumber":57,"author":{"gitId":"ihor.ye"},"content":"        } catch (EmptyRequestBodyException e) {"},{"lineNumber":58,"author":{"gitId":"ihor.ye"},"content":"            return request.createResponseBuilder(HttpStatus.BAD_REQUEST)"},{"lineNumber":59,"author":{"gitId":"ihor.ye"},"content":"                    .body(\"Request body must contains an update json\").build();"},{"lineNumber":60,"author":{"gitId":"Max"},"content":"        }"},{"lineNumber":61,"author":{"gitId":"Max"},"content":"    }"},{"lineNumber":62,"author":{"gitId":"github-classroom[bot]"},"content":"}"}],"authorContributionMap":{"Max":4,"IhorYehorov":1,"github-classroom[bot]":32,"ihor.ye":25}},{"path":"kmaooad-functions/src/test/java/edu/kmaooad/FunctionTest.java","fileType":"java","lines":[{"lineNumber":1,"author":{"gitId":"ihor.ye"},"content":"package edu.kmaooad;"},{"lineNumber":2,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":3,"author":{"gitId":"ihor.ye"},"content":"import com.microsoft.azure.functions.*;"},{"lineNumber":4,"author":{"gitId":"ihor.ye"},"content":"import org.mockito.invocation.InvocationOnMock;"},{"lineNumber":5,"author":{"gitId":"ihor.ye"},"content":"import org.mockito.stubbing.Answer;"},{"lineNumber":6,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":7,"author":{"gitId":"ihor.ye"},"content":"import java.util.*;"},{"lineNumber":8,"author":{"gitId":"ihor.ye"},"content":"import java.util.logging.Logger;"},{"lineNumber":9,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":10,"author":{"gitId":"ihor.ye"},"content":"import org.junit.jupiter.api.Test;"},{"lineNumber":11,"author":{"gitId":"ihor.ye"},"content":"import static org.junit.jupiter.api.Assertions.*;"},{"lineNumber":12,"author":{"gitId":"ihor.ye"},"content":"import static org.mockito.ArgumentMatchers.*;"},{"lineNumber":13,"author":{"gitId":"ihor.ye"},"content":"import static org.mockito.Mockito.*;"},{"lineNumber":14,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":15,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":16,"author":{"gitId":"ihor.ye"},"content":"/**"},{"lineNumber":17,"author":{"gitId":"ihor.ye"},"content":" * Unit test for Function class."},{"lineNumber":18,"author":{"gitId":"ihor.ye"},"content":" */"},{"lineNumber":19,"author":{"gitId":"ihor.ye"},"content":"public class FunctionTest {"},{"lineNumber":20,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":21,"author":{"gitId":"ihor.ye"},"content":"    private static final String BAD_RESPONSE \u003d \"Request body must contains an update json\";"},{"lineNumber":22,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":23,"author":{"gitId":"ihor.ye"},"content":"    private HttpRequestMessage\u003cOptional\u003cString\u003e\u003e getRequest(Optional\u003cString\u003e queryBody) {"},{"lineNumber":24,"author":{"gitId":"ihor.ye"},"content":"        // Setup"},{"lineNumber":25,"author":{"gitId":"ihor.ye"},"content":"        @SuppressWarnings(\"unchecked\")"},{"lineNumber":26,"author":{"gitId":"ihor.ye"},"content":"        final HttpRequestMessage\u003cOptional\u003cString\u003e\u003e request \u003d mock(HttpRequestMessage.class);"},{"lineNumber":27,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":28,"author":{"gitId":"ihor.ye"},"content":"        doReturn(queryBody).when(request).getBody();"},{"lineNumber":29,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":30,"author":{"gitId":"ihor.ye"},"content":"        doAnswer(new Answer\u003cHttpResponseMessage.Builder\u003e() {"},{"lineNumber":31,"author":{"gitId":"ihor.ye"},"content":"            @Override"},{"lineNumber":32,"author":{"gitId":"ihor.ye"},"content":"            public HttpResponseMessage.Builder answer(InvocationOnMock invocation) {"},{"lineNumber":33,"author":{"gitId":"ihor.ye"},"content":"                HttpStatus status \u003d (HttpStatus) invocation.getArguments()[0];"},{"lineNumber":34,"author":{"gitId":"ihor.ye"},"content":"                return new HttpResponseMessageMock.HttpResponseMessageBuilderMock().status(status);"},{"lineNumber":35,"author":{"gitId":"ihor.ye"},"content":"            }"},{"lineNumber":36,"author":{"gitId":"ihor.ye"},"content":"        }).when(request).createResponseBuilder(any(HttpStatus.class));"},{"lineNumber":37,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":38,"author":{"gitId":"ihor.ye"},"content":"        return request;"},{"lineNumber":39,"author":{"gitId":"ihor.ye"},"content":"    }"},{"lineNumber":40,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":41,"author":{"gitId":"ihor.ye"},"content":"    private ExecutionContext getContext() {"},{"lineNumber":42,"author":{"gitId":"ihor.ye"},"content":"        // Setup"},{"lineNumber":43,"author":{"gitId":"ihor.ye"},"content":"        final ExecutionContext context \u003d mock(ExecutionContext.class);"},{"lineNumber":44,"author":{"gitId":"ihor.ye"},"content":"        doReturn(Logger.getGlobal()).when(context).getLogger();"},{"lineNumber":45,"author":{"gitId":"ihor.ye"},"content":"        return context;"},{"lineNumber":46,"author":{"gitId":"ihor.ye"},"content":"    }"},{"lineNumber":47,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":48,"author":{"gitId":"ihor.ye"},"content":"    @Test"},{"lineNumber":49,"author":{"gitId":"ihor.ye"},"content":"    public void testFunctionWithoutBody() {"},{"lineNumber":50,"author":{"gitId":"ihor.ye"},"content":"        // Invoke"},{"lineNumber":51,"author":{"gitId":"ihor.ye"},"content":"        final HttpResponseMessage response \u003d new Function().run(getRequest(Optional.empty()), getContext());"},{"lineNumber":52,"author":{"gitId":"ihor.ye"},"content":"        // Verify"},{"lineNumber":53,"author":{"gitId":"ihor.ye"},"content":"        assertEquals(HttpStatus.BAD_REQUEST, response.getStatus());"},{"lineNumber":54,"author":{"gitId":"ihor.ye"},"content":"        assertEquals(BAD_RESPONSE, response.getBody());"},{"lineNumber":55,"author":{"gitId":"ihor.ye"},"content":"    }"},{"lineNumber":56,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":57,"author":{"gitId":"ihor.ye"},"content":"    @Test"},{"lineNumber":58,"author":{"gitId":"ihor.ye"},"content":"    public void testFunctionWithWrongStringInBody(){"},{"lineNumber":59,"author":{"gitId":"ihor.ye"},"content":"        // Invoke"},{"lineNumber":60,"author":{"gitId":"ihor.ye"},"content":"        final HttpResponseMessage response \u003d new Function().run(getRequest(Optional.of(\"Azure\")), getContext());"},{"lineNumber":61,"author":{"gitId":"ihor.ye"},"content":"        // Verify"},{"lineNumber":62,"author":{"gitId":"ihor.ye"},"content":"        assertEquals(HttpStatus.BAD_REQUEST, response.getStatus());"},{"lineNumber":63,"author":{"gitId":"ihor.ye"},"content":"        assertEquals(BAD_RESPONSE, response.getBody());"},{"lineNumber":64,"author":{"gitId":"ihor.ye"},"content":"    }"},{"lineNumber":65,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":66,"author":{"gitId":"ihor.ye"},"content":"    @Test"},{"lineNumber":67,"author":{"gitId":"ihor.ye"},"content":"    public void testFunctionWithWrongTypeOfMessageIdInBody(){"},{"lineNumber":68,"author":{"gitId":"ihor.ye"},"content":"        // Invoke"},{"lineNumber":69,"author":{"gitId":"ihor.ye"},"content":"        final HttpResponseMessage ret \u003d new Function().run(getRequest(Optional.of(\"{\\n\" +"},{"lineNumber":70,"author":{"gitId":"ihor.ye"},"content":"                \"    \\\"message\\\": {\\n\" +"},{"lineNumber":71,"author":{"gitId":"ihor.ye"},"content":"                \"        \\\"message_id\\\": some_id\\n\" +"},{"lineNumber":72,"author":{"gitId":"ihor.ye"},"content":"                \"    }\\n\" +"},{"lineNumber":73,"author":{"gitId":"ihor.ye"},"content":"                \"}\")), getContext());"},{"lineNumber":74,"author":{"gitId":"ihor.ye"},"content":"        // Verify"},{"lineNumber":75,"author":{"gitId":"ihor.ye"},"content":"        assertEquals(HttpStatus.BAD_REQUEST, ret.getStatus());"},{"lineNumber":76,"author":{"gitId":"ihor.ye"},"content":"        assertEquals(BAD_RESPONSE, ret.getBody());"},{"lineNumber":77,"author":{"gitId":"ihor.ye"},"content":"    }"},{"lineNumber":78,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":79,"author":{"gitId":"ihor.ye"},"content":"    @Test"},{"lineNumber":80,"author":{"gitId":"ihor.ye"},"content":"    public void testFunctionWithCorrectBody(){"},{"lineNumber":81,"author":{"gitId":"ihor.ye"},"content":"        // Invoke"},{"lineNumber":82,"author":{"gitId":"ihor.ye"},"content":"        final HttpResponseMessage ret \u003d new Function().run(getRequest(Optional.of(\"{\\n\" +"},{"lineNumber":83,"author":{"gitId":"ihor.ye"},"content":"                \"    \\\"message\\\": {\\n\" +"},{"lineNumber":84,"author":{"gitId":"ihor.ye"},"content":"                \"        \\\"message_id\\\": 12345\\n\" +"},{"lineNumber":85,"author":{"gitId":"ihor.ye"},"content":"                \"    }\\n\" +"},{"lineNumber":86,"author":{"gitId":"ihor.ye"},"content":"                \"}\")), getContext());"},{"lineNumber":87,"author":{"gitId":"ihor.ye"},"content":"        // Verify"},{"lineNumber":88,"author":{"gitId":"ihor.ye"},"content":"        assertEquals(HttpStatus.OK, ret.getStatus());"},{"lineNumber":89,"author":{"gitId":"ihor.ye"},"content":"        assertEquals(\"Successfully inserted\", ret.getBody());"},{"lineNumber":90,"author":{"gitId":"ihor.ye"},"content":"    }"},{"lineNumber":91,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":92,"author":{"gitId":"ihor.ye"},"content":"}"}],"authorContributionMap":{"ihor.ye":92}},{"path":"kmaooad-functions/src/test/java/edu/kmaooad/HttpResponseMessageMock.java","fileType":"java","lines":[{"lineNumber":1,"author":{"gitId":"ihor.ye"},"content":"package edu.kmaooad;"},{"lineNumber":2,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":3,"author":{"gitId":"ihor.ye"},"content":"import com.microsoft.azure.functions.*;"},{"lineNumber":4,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":5,"author":{"gitId":"ihor.ye"},"content":"import java.util.Map;"},{"lineNumber":6,"author":{"gitId":"ihor.ye"},"content":"import java.util.HashMap;"},{"lineNumber":7,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":8,"author":{"gitId":"ihor.ye"},"content":"/**"},{"lineNumber":9,"author":{"gitId":"ihor.ye"},"content":" * The mock for HttpResponseMessage, can be used in unit tests to verify if the"},{"lineNumber":10,"author":{"gitId":"ihor.ye"},"content":" * returned response by HTTP trigger function is correct or not."},{"lineNumber":11,"author":{"gitId":"ihor.ye"},"content":" */"},{"lineNumber":12,"author":{"gitId":"ihor.ye"},"content":"public class HttpResponseMessageMock implements HttpResponseMessage {"},{"lineNumber":13,"author":{"gitId":"ihor.ye"},"content":"    private int httpStatusCode;"},{"lineNumber":14,"author":{"gitId":"ihor.ye"},"content":"    private HttpStatusType httpStatus;"},{"lineNumber":15,"author":{"gitId":"ihor.ye"},"content":"    private Object body;"},{"lineNumber":16,"author":{"gitId":"ihor.ye"},"content":"    private Map\u003cString, String\u003e headers;"},{"lineNumber":17,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":18,"author":{"gitId":"ihor.ye"},"content":"    public HttpResponseMessageMock(HttpStatusType status, Map\u003cString, String\u003e headers, Object body) {"},{"lineNumber":19,"author":{"gitId":"ihor.ye"},"content":"        this.httpStatus \u003d status;"},{"lineNumber":20,"author":{"gitId":"ihor.ye"},"content":"        this.httpStatusCode \u003d status.value();"},{"lineNumber":21,"author":{"gitId":"ihor.ye"},"content":"        this.headers \u003d headers;"},{"lineNumber":22,"author":{"gitId":"ihor.ye"},"content":"        this.body \u003d body;"},{"lineNumber":23,"author":{"gitId":"ihor.ye"},"content":"    }"},{"lineNumber":24,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":25,"author":{"gitId":"ihor.ye"},"content":"    @Override"},{"lineNumber":26,"author":{"gitId":"ihor.ye"},"content":"    public HttpStatusType getStatus() {"},{"lineNumber":27,"author":{"gitId":"ihor.ye"},"content":"        return this.httpStatus;"},{"lineNumber":28,"author":{"gitId":"ihor.ye"},"content":"    }"},{"lineNumber":29,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":30,"author":{"gitId":"ihor.ye"},"content":"    @Override"},{"lineNumber":31,"author":{"gitId":"ihor.ye"},"content":"    public int getStatusCode() {"},{"lineNumber":32,"author":{"gitId":"ihor.ye"},"content":"        return httpStatusCode;"},{"lineNumber":33,"author":{"gitId":"ihor.ye"},"content":"    }"},{"lineNumber":34,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":35,"author":{"gitId":"ihor.ye"},"content":"    @Override"},{"lineNumber":36,"author":{"gitId":"ihor.ye"},"content":"    public String getHeader(String key) {"},{"lineNumber":37,"author":{"gitId":"ihor.ye"},"content":"        return this.headers.get(key);"},{"lineNumber":38,"author":{"gitId":"ihor.ye"},"content":"    }"},{"lineNumber":39,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":40,"author":{"gitId":"ihor.ye"},"content":"    @Override"},{"lineNumber":41,"author":{"gitId":"ihor.ye"},"content":"    public Object getBody() {"},{"lineNumber":42,"author":{"gitId":"ihor.ye"},"content":"        return this.body;"},{"lineNumber":43,"author":{"gitId":"ihor.ye"},"content":"    }"},{"lineNumber":44,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":45,"author":{"gitId":"ihor.ye"},"content":"    public static class HttpResponseMessageBuilderMock implements HttpResponseMessage.Builder {"},{"lineNumber":46,"author":{"gitId":"ihor.ye"},"content":"        private Object body;"},{"lineNumber":47,"author":{"gitId":"ihor.ye"},"content":"        private int httpStatusCode;"},{"lineNumber":48,"author":{"gitId":"ihor.ye"},"content":"        private Map\u003cString, String\u003e headers \u003d new HashMap\u003c\u003e();"},{"lineNumber":49,"author":{"gitId":"ihor.ye"},"content":"        private HttpStatusType httpStatus;"},{"lineNumber":50,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":51,"author":{"gitId":"ihor.ye"},"content":"        public Builder status(HttpStatus status) {"},{"lineNumber":52,"author":{"gitId":"ihor.ye"},"content":"            this.httpStatusCode \u003d status.value();"},{"lineNumber":53,"author":{"gitId":"ihor.ye"},"content":"            this.httpStatus \u003d status;"},{"lineNumber":54,"author":{"gitId":"ihor.ye"},"content":"            return this;"},{"lineNumber":55,"author":{"gitId":"ihor.ye"},"content":"        }"},{"lineNumber":56,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":57,"author":{"gitId":"ihor.ye"},"content":"        @Override"},{"lineNumber":58,"author":{"gitId":"ihor.ye"},"content":"        public Builder status(HttpStatusType httpStatusType) {"},{"lineNumber":59,"author":{"gitId":"ihor.ye"},"content":"            this.httpStatusCode \u003d httpStatusType.value();"},{"lineNumber":60,"author":{"gitId":"ihor.ye"},"content":"            this.httpStatus \u003d httpStatusType;"},{"lineNumber":61,"author":{"gitId":"ihor.ye"},"content":"            return this;"},{"lineNumber":62,"author":{"gitId":"ihor.ye"},"content":"        }"},{"lineNumber":63,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":64,"author":{"gitId":"ihor.ye"},"content":"        @Override"},{"lineNumber":65,"author":{"gitId":"ihor.ye"},"content":"        public HttpResponseMessage.Builder header(String key, String value) {"},{"lineNumber":66,"author":{"gitId":"ihor.ye"},"content":"            this.headers.put(key, value);"},{"lineNumber":67,"author":{"gitId":"ihor.ye"},"content":"            return this;"},{"lineNumber":68,"author":{"gitId":"ihor.ye"},"content":"        }"},{"lineNumber":69,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":70,"author":{"gitId":"ihor.ye"},"content":"        @Override"},{"lineNumber":71,"author":{"gitId":"ihor.ye"},"content":"        public HttpResponseMessage.Builder body(Object body) {"},{"lineNumber":72,"author":{"gitId":"ihor.ye"},"content":"            this.body \u003d body;"},{"lineNumber":73,"author":{"gitId":"ihor.ye"},"content":"            return this;"},{"lineNumber":74,"author":{"gitId":"ihor.ye"},"content":"        }"},{"lineNumber":75,"author":{"gitId":"ihor.ye"},"content":""},{"lineNumber":76,"author":{"gitId":"ihor.ye"},"content":"        @Override"},{"lineNumber":77,"author":{"gitId":"ihor.ye"},"content":"        public HttpResponseMessage build() {"},{"lineNumber":78,"author":{"gitId":"ihor.ye"},"content":"            return new HttpResponseMessageMock(this.httpStatus, this.headers, this.body);"},{"lineNumber":79,"author":{"gitId":"ihor.ye"},"content":"        }"},{"lineNumber":80,"author":{"gitId":"ihor.ye"},"content":"    }"},{"lineNumber":81,"author":{"gitId":"ihor.ye"},"content":"}"}],"authorContributionMap":{"ihor.ye":81}}]
